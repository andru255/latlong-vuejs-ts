(function(e){function t(t){for(var o,r,s=t[0],l=t[1],u=t[2],d=0,p=[];d<s.length;d++)r=s[d],a[r]&&p.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/latlong-vuejs-ts/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"3b8b":function(e,t,n){"use strict";var o=n("8dc6"),a=n.n(o);a.a},"5a7a":function(e,t,n){"use strict";var o=n("73e8"),a=n.n(o);a.a},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),a=n.n(o);a.a},"5e27":function(e,t,n){},"73e8":function(e,t,n){},"8dc6":function(e,t,n){},9814:function(e,t,n){},b67a:function(e,t,n){"use strict";var o=n("9814"),a=n.n(o);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("header",[n("Form",[n("CoordinateViewer",{attrs:{position:e.position,isReadonly:e.isReadonly},on:{onChangeCoord:e.onChangeCoord,onReset:e.onReset}}),n("PositionSwitcher",{on:{onChangeMode:e.onChangeMode,onGetPositionByBrowser:e.onGetPositionByBrowser}}),n("MessageCenter",{attrs:{message:e.message}})],1)],1),n("main",[n("MapViewer",{attrs:{position:e.position,zoom:e.zoom,isMarkerDraggable:e.isMarkerDraggable},on:{onMainMarkerGetLocation:e.checkMarkerPosition,onZoomEndMap:e.onZoomEndMap}})],1)])},i=[],r=n("d225"),s=n("b0b4"),l=n("308d"),u=n("6bb5"),c=n("4e2b"),d=n("9ab4"),p=n("60a3"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"map"}})},g=[],h=n("795b"),f=n.n(h),v=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.token="pk.eyJ1IjoiYW5kcnUyNTUiLCJhIjoiY2pwdzR0ZGRiMHlvOTQ4bnR2OG9lbTNhNSJ9.isi3uGKrTkISJMlnS2T1bw",e.isMarkerDraggable=!0,e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"beforeMount",value:function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css"),document.head.appendChild(e)}},{key:"mounted",value:function(){var e=this;this.loadMapboxLib().then(function(){var t=[e.position.latitude,e.position.longitude];L.mapbox.accessToken=e.token,e.map=L.mapbox.map("map","mapbox.streets"),e.marker=new L.marker(new L.LatLng(e.position.latitude,e.position.longitude),{draggable:e.isMarkerDraggable}),e.map.setView(t,e.zoom),e.marker.setLatLng(t).addTo(e.map),e.marker.on("dragend",e.onDragEndMarker),e.map.on("zoomend",e.onZoomEndMap),e.$emit("onMainMarkerGetLocation",e.marker)})}},{key:"onChangePosition",value:function(){var e=[this.position.latitude,this.position.longitude];this.map.setView(e,this.zoom),this.marker.setLatLng(e)}},{key:"onChangeDraggableMode",value:function(){this.marker.dragging.disable(),this.isMarkerDraggable&&this.marker.dragging.enable()}},{key:"onDragEndMarker",value:function(){this.$emit("onMainMarkerGetLocation",this.marker)}},{key:"onZoomEndMap",value:function(){this.$emit("onZoomEndMap",this.map.getZoom())}},{key:"loadMapboxLib",value:function(){return new f.a(function(e,t){var n=document.createElement("script");n.setAttribute("src","https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js"),document.head.appendChild(n),n.onload=function(){e()},n.onerror=function(){t()}})}}]),t}(p["c"]);d["a"]([Object(p["b"])()],v.prototype,"position",void 0),d["a"]([Object(p["b"])()],v.prototype,"zoom",void 0),d["a"]([Object(p["b"])()],v.prototype,"isMarkerDraggable",void 0),d["a"]([Object(p["d"])("position")],v.prototype,"onChangePosition",null),d["a"]([Object(p["d"])("isMarkerDraggable")],v.prototype,"onChangeDraggableMode",null),v=d["a"]([p["a"]],v);var m=v,y=m,k=(n("3b8b"),n("2877")),M=Object(k["a"])(y,b,g,!1,null,null,null),j=M.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("legend",[e._v("Coordinate")]),n("label",{attrs:{for:"latitude"}},[e._v("Latitude")]),n("input",{attrs:{placeholder:"Latitude",id:"Latitude",readonly:e.isReadonly},domProps:{value:e.position.latitude},on:{keyup:e.onChangeLatitude}}),n("label",{attrs:{for:"longitude"}},[e._v("Longitude")]),n("input",{attrs:{placeholder:"Longitude",id:"Longitude",readonly:e.isReadonly},domProps:{value:e.position.longitude},on:{keyup:e.onChangeLongitude}}),n("a",{attrs:{href:"#",id:"lnkReset"},on:{click:e.onReset}},[e._v("reset")])])},w=[],x=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.internalPosition=e.position,e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"onChangeLatitude",value:function(e){if(!0===this.isReadonly)return!1;this.internalPosition={latitude:e.target.value,longitude:this.position.longitude},this.$emit("onChangeCoord",this.internalPosition)}},{key:"onChangeLongitude",value:function(e){if(!0===this.isReadonly)return!1;this.internalPosition={latitude:this.position.latitude,longitude:e.target.value},this.$emit("onChangeCoord",this.internalPosition)}},{key:"onReset",value:function(e){this.$emit("onReset"),e.preventDefault()}}]),t}(p["c"]);d["a"]([Object(p["b"])()],x.prototype,"position",void 0),d["a"]([Object(p["b"])()],x.prototype,"isReadonly",void 0),x=d["a"]([p["a"]],x);var C=x,_=C,P=(n("b67a"),Object(k["a"])(_,O,w,!1,null,null,null)),B=P.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("legend",[e._v("Get position")]),n("label",{attrs:{for:"drag"}},[e._v("\n        Drag marker \n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editMode,expression:"editMode"}],attrs:{type:"radio",id:"drag",value:"draggable",selected:""},domProps:{checked:e._q(e.editMode,"draggable")},on:{change:function(t){e.editMode="draggable"}}})]),e._v("\n    |\n    "),n("label",{attrs:{for:"changeByText"}},[e._v("\n        Edit coordinate \n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editMode,expression:"editMode"}],attrs:{type:"radio",id:"changeByText",value:"changeByText"},domProps:{checked:e._q(e.editMode,"changeByText")},on:{change:function(t){e.editMode="changeByText"}}})]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.browserGeolocationAvailable,expression:"browserGeolocationAvailable"}]},[e._v("\n    |\n    ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:e.browserGeolocationAvailable,expression:"browserGeolocationAvailable"}],attrs:{href:"#"},on:{click:e.onGetPositionByBrowser}},[e._v("By browser")])])},R=[],G=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"data",value:function(){return{editMode:"draggable",browserGeolocationAvailable:!1}}},{key:"mounted",value:function(){"geolocation"in navigator&&(this.browserGeolocationAvailable=!0)}},{key:"onGetPositionByBrowser",value:function(e){var t=this;navigator.geolocation.getCurrentPosition(function(e){var n=e.coords,o={latitude:n.latitude,longitude:n.longitude};t.$emit("onGetPositionByBrowser",o)},function(){t.$emit("onGetPositionByBrowser",void 0)}),e.preventDefault()}},{key:"onChangeMode",value:function(){this.$emit("onChangeMode",this.editMode)}}]),t}(p["c"]);d["a"]([Object(p["d"])("editMode")],G.prototype,"onChangeMode",null),G=d["a"]([p["a"]],G);var D=G,T=D,$=Object(k["a"])(T,E,R,!1,null,null,null),Z=$.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{attrs:{name:"message-list",tag:"div",role:"messages"}},e._l(e.messages,function(t){return n("MessageItem",{key:t.id,staticClass:"message-item",attrs:{data:t},on:{onExpired:e.onExpired}},[e._v("\n      "+e._s(t.content)+"\n  ")])}),1)},S=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._t("default")],2)},N=[],J=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=this;setTimeout(function(){return e.$emit("onExpired",e.data)},this.data.timeout)}}]),t}(p["c"]);d["a"]([Object(p["b"])()],J.prototype,"data",void 0),J=d["a"]([p["a"]],J);var V=J,I=V,q=Object(k["a"])(I,A,N,!1,null,null,null),U=q.exports,Y=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.index=0,e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"data",value:function(){return{messages:[]}}},{key:"onExpired",value:function(e){this.messages.splice(this.messages.indexOf(e),1)}},{key:"listenMessage",value:function(){this.messages.push(this.message)}}]),t}(p["c"]);d["a"]([Object(p["b"])()],Y.prototype,"message",void 0),d["a"]([Object(p["d"])("message")],Y.prototype,"listenMessage",null),Y=d["a"]([Object(p["a"])({components:{MessageItem:U}})],Y);var F=Y,H=F,K=(n("5a7a"),Object(k["a"])(H,z,S,!1,null,null,null)),Q=K.exports,W=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.defaultPosition={latitude:40,longitude:-74.5},e.defaultZoom=9,e.position=e.defaultPosition,e.zoom=e.defaultZoom,e.isMarkerDraggable=!0,e.isReadonly=!0,e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"data",value:function(){return{isMarkerDraggable:!0,isReadonly:!0,message:void 0}}},{key:"checkMarkerPosition",value:function(e){var t=e.getLatLng();this.position={latitude:t.lat,longitude:t.lng}}},{key:"onZoomEndMap",value:function(e){this.zoom=e}},{key:"onChangeMode",value:function(e){this.isMarkerDraggable=!0,this.isReadonly=!0,"changeByText"===e&&(this.isMarkerDraggable=!1,this.isReadonly=!1)}},{key:"onGetPositionByBrowser",value:function(e){if("undefined"===typeof e){var t={id:Math.random(),content:"Please enable your geolocation feature",timeout:2e3};this.message=t}else this.position=e}},{key:"onChangeCoord",value:function(e){this.position=e}},{key:"onReset",value:function(){this.position=this.defaultPosition,this.zoom=this.defaultZoom}}]),t}(p["c"]);W=d["a"]([Object(p["a"])({components:{MapViewer:j,CoordinateViewer:B,PositionSwitcher:Z,MessageCenter:Q}})],W);var X=W,ee=X,te=(n("5c0b"),Object(k["a"])(ee,a,i,!1,null,null,null)),ne=te.exports;o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(ne)}}).$mount("#app")}});
//# sourceMappingURL=app.2067d939.js.map